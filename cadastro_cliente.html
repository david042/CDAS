<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/css/login.css">
    <title></title>
</head>
<body>
    <form >
       <h2>Fazer Pré Cadastro</h2>
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome"><br><br>
        <label for="rg">RG:</label>
        <input type="number" id="rg" name="rg"><br><br>
        <label for="cpf">CPF:</label>
        <input type="number" id="cpf" name="cpf" onblur="TestaCPF(this.value);"><br><br>
        <label class="form-label">Rua:</label>
        <input type="text" id="rua" name="ruaCliente"><br><br>
        <label class="form-label">Bairro:</label>
        <input type="text" id="bairro" name="bairroCliente"><br><br>
        <label class="form-label">Nº:</label>
        <input type="text" id="numCliente" name="numCliente"><br><br>
        <button onclick="Salvar()">Salvar</button>
      </form>
      <script>
      function Salvar(){
        if (localStorage.id) {
          localStorage.id = Number(localStorage.id)+1;
          localStorage.setItem(`nome${localStorage.id}`, document.getElementById("nome").value);
          localStorage.setItem(`rg${localStorage.id}`, document.getElementById("rg").value);
          localStorage.setItem(`cpf${localStorage.id}`, document.getElementById("cpf").value);
          localStorage.setItem(`rua${localStorage.id}`, document.getElementById("rua").value);
          localStorage.setItem(`bairro${localStorage.id}`, document.getElementById("bairro").value);
          localStorage.setItem(`num${localStorage.id}`, document.getElementById("numCliente").value);
        } else {
          localStorage.id = 1;
        }
      }
      </script>

<script>

    function TestaCPF(strCPF) {
    var Soma;
    var Resto;
    Soma = 0;
  if (strCPF == "00000000000")
  {
    return alert("CPF Inválido");
  } 

  for (i=1; i<=9; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (11 - i);
  Resto = (Soma * 10) % 11;

    if ((Resto == 10) || (Resto == 11))  Resto = 0;
    if (Resto != parseInt(strCPF.substring(9, 10)) )
    {
      return alert("CPF Inválido");
    } 

  Soma = 0;
    for (i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (12 - i);
    Resto = (Soma * 10) % 11;

    if ((Resto == 10) || (Resto == 11))  Resto = 0;
    if (Resto != parseInt(strCPF.substring(10, 11) ) )
    {
      return alert("CPF Inválido");
    } 
    return alert("CPF Válido");
}

</script>
</body>
</html>